/* ==========================================================================
   HALLOWEEN THEME SPECIAL EFFECTS
   ========================================================================== */

/* Floating title animation */
@keyframes float-up-down {
  0%,
  100% {
    transform: translateY(4px);
  }
  50% {
    transform: translateY(-4px);
  }
}

/* Apply effects when halloween class is active */
html.halloween div.header a,
html.halloween div.header h1 {
  animation: float-up-down 2s ease-in-out infinite;
}

/* Pumpkin icon grayscale when not in halloween mode */
.navbar-text a[onclick*="toggleHalloween"] {
  filter: grayscale(1);
}

html.halloween .navbar-text a[onclick*="toggleHalloween"] {
  filter: grayscale(0);
}

/* Post item Halloween effects */
html.halloween .post-item {
  overflow: hidden;
  box-shadow: 0 0 0 0px currentColor;
  transition: box-shadow 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);

  &:hover {
    box-shadow: 0 0 0 4px currentColor;
  }

  &::before,
  &::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    height: 12px;
    background: white;
    -webkit-mask-size: 100px 100%;
    -webkit-mask-repeat: repeat-x;
    mask-size: 100px 100%;
    mask-repeat: repeat-x;
  }

  &::before {
    top: 0;
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='100' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='0,0 10,12 20,0 30,12 40,0 50,12 60,0 70,12 80,0 90,12 100,0' fill='black'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg width='100' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='0,0 10,12 20,0 30,12 40,0 50,12 60,0 70,12 80,0 90,12 100,0' fill='black'/%3E%3C/svg%3E");
    transform: translateY(-100%);
    transform-origin: top center;
    transition: transform 0.3s ease-out;
  }

  &::after {
    bottom: 0;
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='100' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='0,12 10,0 20,12 30,0 40,12 50,0 60,12 70,0 80,12 90,0 100,12' fill='black'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg width='100' height='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='0,12 10,0 20,12 30,0 40,12 50,0 60,12 70,0 80,12 90,0 100,12' fill='black'/%3E%3C/svg%3E");
    transform: translateY(100%);
    transform-origin: bottom center;
    transition: transform 0.3s ease-out;
  }

  &:hover::before {
    transform: translateY(0);
  }

  &:hover::after {
    transform: translateY(0);
  }
}
